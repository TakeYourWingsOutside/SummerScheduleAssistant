{% extends "layout.html" %}

{% block title %}Auto-Schedule Range - Summer Scheduler{% endblock %}

{% block content %}
<h2>Auto-Schedule for a Date Range</h2>
<p>Select a kid and a date range. The system will attempt to auto-schedule activities for each day in this range, respecting existing manually scheduled items and aiming to fill ~{{ (TARGET_DAILY_MINUTES / 60)|round(1) }} hours per day.</p>

<form method="POST" action="{{ url_for('schedule.trigger_range_schedule') }}">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.kid_id.label }}
        {{ form.kid_id() }}
        {% if form.kid_id.errors %}
        <ul class="errors">{% for error in form.kid_id.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.start_date.label }}
        {{ form.start_date() }}
        {% if form.start_date.errors %}
        <ul class="errors">{% for error in form.start_date.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.end_date.label }}
        {{ form.end_date() }}
        {% if form.end_date.errors %}
        <ul class="errors">{% for error in form.end_date.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.submit_range_schedule(class="btn btn-primary", onclick="return confirm('This will attempt to auto-schedule multiple days. This might take a moment. Continue?');") }}
    </div>
</form>

{# Optional: Display detailed results if we implement that later #}
{% if results %}
<h3>Scheduling Results:</h3>
<ul>
    {% for result in results %}
    <li>{{ result }}</li>
    {% endfor %}
</ul>
{% endif %}

{% endblock %}